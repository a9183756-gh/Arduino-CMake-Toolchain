# Copyright (c) 2020 Arduino CMake Toolchain
cmake_minimum_required(VERSION 3.9)
cmake_policy(SET CMP0069 NEW)

set(CMAKE_CROSSCOMPILING ON)
set(ARDUINO_BOARD_MCU "@ARDUINO_BOARD_MCU@")
set(CMAKE_CROSSCOMPILING_EMULATOR "simavr -v --mcu ${ARDUINO_BOARD_MCU}")

#set(CMAKE_BUILD_TYPE "RelWithDebInfo")
set(CMAKE_BUILD_TYPE "Release")
set(CMAKE_INTERPROCEDURAL_OPTIMIZATION @CMAKE_INTERPROCEDURAL_OPTIMIZATION@)

set(ARDUINO_INSTALL_PATH "@ARDUINO_INSTALL_PATH@")
set(ARDUINO_PACKAGE_PATH "@ARDUINO_PACKAGE_PATH@")
set(ARDUINO_SKETCHBOOK_PATH "@ARDUINO_SKETCHBOOK_PATH@")

set(CMAKE_SYSTEM_PROCESSOR "@CMAKE_SYSTEM_PROCESSOR@")
set(CLANG_TARGET_TRIPLE "@CLANG_TARGET_TRIPLE@")

set(CMAKE_SYSROOT "@CMAKE_SYSROOT@")
set(CMAKE_FIND_ROOT_PATH "@CMAKE_FIND_ROOT_PATH@")

set(ARDUINO "@CMAKE_SYSTEM_VERSION@")
set("ARDUINO_ARCH_@CMAKE_SYSTEM_PROCESSOR@" TRUE)
set("ARDUINO_@ARDUINO_BOARD@" TRUE)

set(ARDUINO_BOARD "@ARDUINO_BOARD@")
set(ARDUINO_BOARD_IDENTIFIER "@ARDUINO_BOARD_IDENTIFIER@")
set(ARDUINO_BOARD_NAME "@ARDUINO_BOARD_NAME@")
set(ARDUINO_BOARD_BUILD_ARCH "@ARDUINO_BOARD_BUILD_ARCH@")
set(ARDUINO_BOARD_RUNTIME_PLATFORM_PATH "@ARDUINO_BOARD_RUNTIME_PLATFORM_PATH@")
set(ARDUINO_CORE_SPECIFIC_PLATFORM_PATH "@ARDUINO_CORE_SPECIFIC_PLATFORM_PATH@")
set(ARDUINO_BOARD_BUILD_CORE_PATH "@ARDUINO_BOARD_BUILD_CORE_PATH@")
set(ARDUINO_BOARD_BUILD_VARIANT_PATH "@ARDUINO_BOARD_BUILD_VARIANT_PATH@")
set(ARDUINO_BOARD_HOST_NAME "@ARDUINO_BOARD_HOST_NAME@")

set(ARDUINO_BOARD_UPLOAD_TOOL @ARDUINO_BOARD_UPLOAD_TOOL@)
set(ARDUINO_BOARD_PROGRAM_TOOL @ARDUINO_BOARD_PROGRAM_TOOL@)
set(ARDUINO_BOARD_BOOTLOADER_TOOL @ARDUINO_BOARD_BOOTLOADER_TOOL@)

set(ARDUINO_PROGRAMMER_ID "@ARDUINO_PROGRAMMER_ID@")
set(ARDUINO_PROGRAMMER_NAME "@ARDUINO_PROGRAMMER_NAME@")

set(ARDUINO_RULE_NAMES_LIST "@ARDUINO_RULE_NAMES_LIST@")
@ARDUINO_RULE_SET_LIST@
@ARDUINO_SEL_MENU_SET_LIST@

set(TOOLCHAIN_GEN_SYS_DIRS_TO_INCLUDE "@TOOLCHAIN_GEN_SYS_DIRS_TO_INCLUDE@")
if(TOOLCHAIN_GEN_SYS_DIRS_TO_INCLUDE)
	include_directories(SYSTEM ${TOOLCHAIN_GEN_SYS_DIRS_TO_INCLUDE})
endif()

set(TOOLCHAIN_GEN_DIRS_TO_LINK "@TOOLCHAIN_GEN_DIRS_TO_LINK@")
if(TOOLCHAIN_GEN_DIRS_TO_LINK)
	link_directories(${TOOLCHAIN_GEN_DIRS_TO_LINK})
endif()

set(DEFINES_TO_ADD "@DEFINES_TO_ADD@")
add_compile_definitions(${DEFINES_TO_ADD})

set(CMAKE_RANLIB "@CMAKE_RANLIB@")
set(CMAKE_NM "@CMAKE_NM@")
set(CMAKE_READELF "@CMAKE_READELF@")

# Need to include this in cache as plain setting of this variable is
# overwritten when marking it as advanced (This is fixed only in CMake 3.13.0)
set(CMAKE_AR "@CMAKE_AR@" CACHE INTERNAL "" FORCE)

set(CMAKE_C_COMPILER "@CMAKE_C_COMPILER@")
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} @CMAKE_C_FLAGS@")
set(CMAKE_C_LINKER_FLAGS "${CMAKE_C_LINKER_FLAGS} @CMAKE_C_LINKER_FLAGS@")
set(CMAKE_C_COMPILER_TARGET "@CMAKE_C_COMPILER_TARGET@")
set(CMAKE_C_COMPILER_RANLIB "${CMAKE_RANLIB}")
set(CMAKE_C_COMPILER_AR "${CMAKE_AR}")

set(CMAKE_CXX_COMPILER "@CMAKE_CXX_COMPILER@")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} @CMAKE_CXX_FLAGS@")
set(CMAKE_CXX_LINKER_FLAGS "${CMAKE_CXX_LINKER_FLAGS} @CMAKE_CXX_LINKER_FLAGS@")
set(CMAKE_CXX_COMPILER_TARGET "@CMAKE_CXX_COMPILER_TARGET@")
set(CMAKE_CXX_COMPILER_RANLIB "${CMAKE_C_COMPILER_RANLIB}")
set(CMAKE_CXX_COMPILER_AR "${CMAKE_C_COMPILER_AR}")

set(CMAKE_ASM_COMPILER "@CMAKE_ASM_COMPILER@")
set(CMAKE_ASM_FLAGS "${CMAKE_ASM_FLAGS} @CMAKE_ASM_FLAGS@")

set(CMAKE_LINKER "@CMAKE_LINKER@")
set(CMAKE_LINKER_FLAGS "${CMAKE_LINKER_FLAGS} @CMAKE_LINKER_FLAGS@")
#set(CMAKE_STATIC_LINKER_FLAGS "-v ${CMAKE_STATIC_LINKER_FLAGS} @CMAKE_STATIC_LINKER_FLAGS@")
set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} @CMAKE_EXE_LINKER_FLAGS@")

set(ARDUINO_FIND_ROOT_PATH "@ARDUINO_FIND_ROOT_PATH@")
set(ARDUINO_SYSTEM_PROGRAM_PATH "@ARDUINO_SYSTEM_PROGRAM_PATH@")
